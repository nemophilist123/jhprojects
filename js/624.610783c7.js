"use strict";(self["webpackChunkjinghe"]=self["webpackChunkjinghe"]||[]).push([[624],{85574:function(t,e,i){i.r(e),i.d(e,{default:function(){return u}});var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"home_view"},[e("div",{staticClass:"particle"}),e("div",{staticClass:"left"},[e("div",{staticClass:"box_border"},[e("load-box",{attrs:{loadisShow:t.areaEnergyLoad}},[e("div",{staticClass:"full"},[e("p",{staticClass:"box_title"},[t._v("全厂用能总览")]),e("div",{staticClass:"box-content",staticStyle:{display:"flex"}},[e("div",{staticClass:"qcynTitleContent"},[e("div",{staticStyle:{height:"calc(1.38rem + 2px)",padding:"0"}}),e("div",[t._v("单位")]),e("div",[t._v("当日")]),e("div",[t._v("昨日")]),e("div",[t._v("环比")])]),e("div",{staticClass:"qcynContent"},[e("div",{staticClass:"line1"},t._l(7,(function(s,a){return e("div",{key:a,class:{isActive:t.activeIndex==a},on:{click:function(e){return t.changeEnergy(a)}}},[e("img",{attrs:{src:i(71368)("./"+(a+1)+".png"),alt:""}}),e("p",[t._v(t._s(t.ynIcon[a]))])])})),0),e("div",{staticClass:"line2"},t._l(t.ynUnit,(function(i,s){return e("div",{key:s},[t._v(" "+t._s(i)+" ")])})),0),t._l(t.ynArry,(function(i,s){return e("div",{key:s,staticClass:"ynArryLine"},t._l(i[Object.keys(i)[0]],(function(i,s){return e("div",{key:s},[e("div",{staticStyle:{display:"flex","align-items":"center"},domProps:{innerHTML:t._s(t.getYnData(i))}})])})),0)}))],2)])])])],1),e("div",{staticClass:"box_border"},[e("load-box",{attrs:{loadisShow:t.areaUseQtyLoad}},[e("div",{staticClass:"full"},[e("p",{staticClass:"box_title"},[t._v("全厂分时用量")]),e("div",{ref:"fsyl",staticClass:"box-content"})])])],1)]),e("div",{staticClass:"center"},[e("div",{staticClass:"center_top"},[t.topId?e("div",{staticStyle:{width:"100%"}},[e("iframe",{staticStyle:{width:"100%",height:"100%"},attrs:{id:"ifram",src:t.topId,frameborder:"0"}})]):e("p",{staticStyle:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)","letter-spacing":"0.03rem",color:"#4abbff",display:"flex","flex-direction":"column","align-items":"center"}},[e("img",{staticStyle:{width:"1rem"},attrs:{src:i(71681),alt:""}}),t._v(" 未配置拓扑图 ")])])]),e("div",{staticClass:"right"},[e("div",{staticClass:"right_top box_border"},[e("load-box",{attrs:{loadisShow:t.genetateLoad}},[e("div",{staticClass:"full"},[e("p",{staticClass:"box_title"},[t._v("光伏发电总览")]),e("div",{staticClass:"box-content fdzl"},[e("div",[e("img",{staticStyle:{width:"0.45rem"},attrs:{src:i(8892),alt:""}}),e("p",[t._v("光伏总容量")]),e("div",[t._v(t._s(t.genetateShift.zInstallCapacity)+"kWp")]),e("p",[t._v("当日发电量")]),e("div",[t._v(t._s(t.genetateShift.zeToday)+"kWh")]),e("p",[t._v("累计发电量")]),e("div",[t._v(t._s(t.toFixedTwo(t.genetateShift.ze/1e3))+"mWh")])]),e("div",{staticStyle:{display:"flex","flex-direction":"column","flex-grow":"1"}},[e("generatingOverview"),e("div",{staticClass:"gffd"},[e("div",[e("p",[t._v("自发自用")]),e("div",[t._v(t._s(t.toFixedTwo(t.genetateShift.ze/1e3))+"mWh")])]),e("div",[e("p",[t._v("余电上网")]),e("div",[t._v(t._s(t.toFixedTwo(t.genetateShift.ze/1e3))+"mWh")])])])],1)])])])],1),e("div",{staticClass:"right_center box_border"},[e("load-box",{attrs:{loadisShow:t.tpLoad}},[e("div",{staticClass:"full"},[e("p",{staticClass:"box_title"},[t._v("碳排建设")]),e("div",{staticClass:"box-content TPJS"},[e("div",[e("div",[e("img",{attrs:{src:i(13372),alt:""}})]),e("div",{staticClass:"TPJSContent"},[e("p",[t._v("减排二氧化碳")]),e("p",{staticStyle:{"font-size":"0.16rem",display:"flex","align-items":"center"}},[e("span",{staticStyle:{color:"#00ff2a","font-size":"0.26rem","margin-right":"0.13rem"}},[t._v(t._s(t.environmentalmsg.reduceCarbonDioxide))]),t._v(" 吨 ")])])]),e("div",[e("div",[e("img",{attrs:{src:i(16195),alt:""}})]),e("div",{staticClass:"TPJSContent"},[e("p",[t._v("减排二氧化硫")]),e("p",{staticStyle:{"font-size":"0.16rem",display:"flex","align-items":"center"}},[e("span",{staticStyle:{color:"#00eeff","font-size":"0.26rem","margin-right":"0.13rem"}},[t._v(t._s(t.environmentalmsg.reduceSulfurDioxide))]),t._v(" 吨 ")])])]),e("div",[e("div",[e("img",{attrs:{src:i(3285),alt:""}})]),e("div",{staticClass:"TPJSContent"},[e("p",[t._v("减少森林砍伐")]),e("p",{staticStyle:{"font-size":"0.16rem",display:"flex","align-items":"center"}},[e("span",{staticStyle:{color:"#ffc300","font-size":"0.26rem","margin-right":"0.13rem"}},[t._v(t._s(t.environmentalmsg.reduceDeforestation))]),t._v(" 亩 ")])])]),e("div",[e("div",[e("img",{attrs:{src:i(55587),alt:""}})]),e("div",{staticClass:"TPJSContent"},[e("p",[t._v("节约煤炭")]),e("p",{staticStyle:{"font-size":"0.16rem",display:"flex","align-items":"center"}},[e("span",{staticStyle:{color:"#ff4800","font-size":"0.26rem","margin-right":"0.13rem"}},[t._v(t._s(t.environmentalmsg.standardCoalSaving))]),t._v(" 吨 ")])])])])])])],1)])])},a=[],n=(i(57658),i(40155)),r=i(58900),o=i(91186),l=i(21426),d=i(87633),c=i(81158),h=i(40165),m={components:{energyConsumptionChart:n.Z,generatingOverview:r.Z,loadBox:d.Z},data(){return{options:[],value:"",eqmOptions:[],eqmValue:"",activeIndex:0,elecpoinArry:[],elecpoinNameArry:["总电能","A相电压","B相电压","C相电压","A相电流","B相电流","C相电流","A相功率","B相功率","C相功率"],topId:"",ynIcon:["电","蒸汽","天然气","自来水","冷凝水","压缩空气","氮气","中水"],ynUnit:["kWh","吨","立方米","立方米","立方米","立方米","立方米","立方米"],ynArry:[{"当日":["-","-","-","-","-","-","-","-"]},{"昨日":["-","-","-","-","-","-","-","-"]},{"环比":["-","-","-","-","-","-","-","-"]}],areaUseQtyArry:[],genetateShift:{},environmentalmsg:{},areaEnergyLoad:!1,areaUseQtyLoad:!1,chLoad:!1,genetateLoad:!1,tpLoad:!1,eleLoad:!1,topIdNum:""}},created(){this.$bus.$on("sendGenetateShift",(t=>{this.genetateShift=t}))},mounted(){(0,c.Z)(".particle",{color:"rgb(53,115,229,0.5)",radius:2,rate:2,count:200,line:!1,bounce:!0}),this.areaEnergyFun(),this.getTopIdFun(),this.areaUseQtyFun(),this.environmentalProtectionContributionFun(),this.elecstationFun(),window.onresize=()=>{const t=document.documentElement.clientWidth||document.body.clientWidth,e=document.getElementsByTagName("html")[0];e.style.fontSize=t/19.2+"px",""!=this.topIdNum&&(this.topId="",setTimeout((()=>{this.topId="http://"+this.$ipAddress+"/html/apps/jingheforWebpage/index.html?topId="+this.topIdNum}),100))}},methods:{getYnData(t){if(t.toString().includes("%")){let e=t.substring(0,t.toString().indexOf("%"));return this.$isInteger(e)||(e=Number(e).toFixed(2)),e>0?`<span style="display: flex;align-items: center;"><img class="downImg" style="width:0.2rem" src=${l}>${e}%</span>`:`<img class="upImg" style="width: 0.1rem;margin-right: 0.03rem;" src=${o}>${e}%`}if(this.$isNumber(t)){let e=t;return this.$isInteger(t)||(e=t.toFixed(2)),e}return t},areaEnergyFun(){this.areaEnergyLoad=!0,(0,h.t3)().then((t=>{const{errcode:e,errmsg:i,content:s}=t;0==e&&(this.ynArry=[{"当日":[s.elec1,s.steam1,s.gas1,s.cold1,s.hot1,s.compressedAir1,s.n21,s.reclaimedWater1]},{"昨日":[s.elec2,s.steam2,s.gas2,s.cold2,s.hot2,s.compressedAir2,s.n22,s.reclaimedWater2]},{"环比":[s.elecQOQ,s.steamQOQ,s.gasQOQ,s.coldQOQ,s.hotQOQ,s.compressedAirQOQ,s.n2QOQ,s.reclaimedWaterQOQ]}]),this.areaEnergyLoad=!1})).catch((t=>{this.areaEnergyLoad=!1}))},setFsylEchart(t,e,i,s){let a=this.$refs.fsyl,n=this.$echarts.init(a);n.clear();let r={grid:{left:"2%",right:"2%",bottom:"3%",containLabel:!0},legend:{top:"2%",right:"2%",textStyle:{color:"#fff"}},tooltip:{show:!0,trigger:"item"},xAxis:{type:"category",data:t,axisLabel:{show:!0,textStyle:{color:"#ffffff"}},axisTick:{show:!1}},yAxis:{name:s,nameLocation:"end",nameTextStyle:{color:"#fff",padding:[0,10,0,0]},nameGap:15,type:"value",axisLabel:{show:!0,textStyle:{color:"#ffffff"}},splitLine:{show:!0,lineStyle:{color:["rgba(255, 255, 255, 0.5)"],type:"dashed"}}},series:[{name:"今日",type:"bar",emphasis:{focus:"series"},barWidth:5,itemStyle:{normal:{color:"#00EEFF"}},data:e},{name:"昨日",type:"bar",emphasis:{focus:"series"},barWidth:5,itemStyle:{normal:{color:"#FFB300"}},data:i}]};n.setOption(r),window.addEventListener("resize",(function(){n.resize()}))},getTopIdFun(){(0,h.sw)().then((t=>{const{errcode:e,errmsg:i,topId:s}=t;0==e&&""!=s&&(this.topId="http://"+this.$ipAddress+"/html/apps/jingheforWebpage/index.html?topId="+s,this.topIdNum=s)})).catch((t=>{}))},areaUseQtyFun(){this.areaUseQtyLoad=!0;const{errcode:t,errmsg:e,content:i}=res;0==t&&(this.areaUseQtyArry=i.arr,this.changeEnergy(0)),this.areaUseQtyLoad=!1},changeEnergy(t){this.activeIndex=t;let e=[["elec"],["steam"],["gas"],["coldWater"],["hotWater"],["compressedAir"],["n2"],["reclaimedWater"]],i=["kWh","吨","立方米","立方米","立方米","立方米","立方米","立方米"],s=e[t],a=[],n=[],r=[];this.areaUseQtyArry.forEach((t=>{1==s.length?(n.push(t[s[0]]),r.push(t[s[0]+"_3"])):(n.push(Number(t[s[0]])+Number(t[s[1]])),r.push(Number(t[s[0]+"_3"])+Number(t[s[1]+"_3"]))),a.push(t.dateStr)})),this.setFsylEchart(a,n,r,i[t])},environmentalProtectionContributionFun(){this.tpLoad=!0,(0,h.up)().then((t=>{const{errcode:e,errmsg:i,content:s}=t;0==e&&(this.environmentalmsg=s),this.tpLoad=!1})).catch((t=>{this.tpLoad=!1}))},changeEle(){this.ElecEqmIdFun()},eqmChangeEle(){this.elecpoinFun()},elecstationFun(){(0,h.Ko)().then((t=>{const{errcode:e,errmsg:i,elecstation:s}=t;0==e&&(this.options=s,this.options.length>0&&(this.value=this.options[0].elecStationId,this.ElecEqmIdFun()))})).catch((t=>{}))},ElecEqmIdFun(){(0,h.Pe)(this.value).then((t=>{const{errcode:e,errmsg:i,elecstation:s}=t;0==e&&(this.eqmOptions=s,this.eqmValue=s[0].elecEqmId,this.elecpoinFun(this.eqmValue))})).catch((t=>{}))},elecpoinFun(){this.eleLoad=!0,(0,h.OF)(this.eqmValue).then((t=>{const{errcode:e,errmsg:i,content:s}=t;0==e&&s&&(this.elecpoinArry=s),this.eleLoad=!1})).catch((t=>{this.eleLoad=!1}))},getValueByName(t){let e="";return this.elecpoinArry.length>0&&this.elecpoinArry.forEach((i=>{i.elecPointUnitId==t&&(e=this.toFixedTwo(i.dATA_VALUE))})),e},changeCHLoad(t){this.chLoad=t},changeGenetateLoad(t){this.genetateLoad=t},toFixedTwo(t){if(0==t)return 0;if(t){let e=Number(t);return this.$isInteger(t)||(e=e.toFixed(2)),e}}}},g=m,p=i(1001),v=(0,p.Z)(g,s,a,!1,null,"61c9cd36",null),u=v.exports},71681:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAAAXNSR0IArs4c6QAAB4JJREFUeF7tnV1oHFUUx/9nkqZoQftQsYpgBcEHsVZBBFtoYrOb7KRgqkRFhCZQKuJHUvVNpC0UEQVbFUEpYkRQqWi3pZlNdhcT6tdDK6ZSfFIbHwTrg7ZVlJrNHrmT2XRds7kzdz52Ws88tbkf59z/b869d+69O0OQK1UKUKq8EWcgQFJ2EwgQAZIyBVLmjkSIAEmZAilzRyJEgKRMgZS5IxEiQFKmQMrckQgRIClTIGXuSIQIkJQpkDJ3JEIudSB2mXtRxVUgrEIVV6asvf9yhywcm63iWLGHfkmLn5FFSG6CHyALTwBYn5bG+fWDgS8twqtj3fSB3zJx5YsESK7M7xPjwTonzxHhO2bcHpfjsdTLeMvJ0rZY6vZZaWgguRLvIeBZZY+BKYuxdyxLh9X/7UlejTk8BMbzAJa7PjGGnCyN+vQv1mx2kdcxoROMx4hwo2usit1OD+2K1fASlYcC0lfkh5nwrgfjtUKGnmxmyy7zKTDWgDBTnUXXeI5mWtXoxezaE7wLFna6bSHcXOimb1vhXyggdpkPgtEPxhdOlpYcOzYXeVOVUHYbSXjF6aaRVjS4mc2eo3xN+3kcZ+BaAHknQ1ta4Z8xkP5JXvl3Bb953dCjTpbe0DXALvFn7qDPOOlk6RZd/qTT66Lk3OkfsOqrR2g2aR+MgfQVeYAJBzwgdzhZOq5zvq/EzzDwkttVV3BD2rqt3ATnyILjdluMDYUsfa5rU9TpxkDq+1wTp6pA13iGpkzKxlnGLjF7N9nTTpZejtPWYnULkAZVFoC0aLZlDqTE7oxk0au6xHkvbyaT+gi52ICYhHJviTstYNIdQ9LeZWmA2GXeB8YZEFZGOWM0jpD/MxD1QEmEzrEM7cuVub+NceZIROOhADEYQ7wp/ygz9gIYWr4MI/kuOmNykzaWESAGQFQRBaVSwbpKBTNRTt8FiCGQKKIh0mmviUOX0qBu0n4/ZQJHiF3kwY5lyKs+Uw1oPItpvyErQPRIjICAMAzGKCwMdbSh0++AJkBiAKKqzBV5lAhbg65HCZAYgKguCxZGiDHKwNaOdnRJhOiF9pvDqMuSMcSvvMHzBQYS3MSFEtJl6dUTIPIcYra4aJc4z4TRQjfl9ffZfA53AbCKUSdL077L1PZDZLW3uWRqMQ+Er8G4LZC4agJCuCfI/vhFux/i946rzxd0DHFBABtB2MWMQ4UsDQa1q6boIFxPjB1+YAqQBoV7C7zGascp789nAUyBkQ9zlqs2VQfjVrdewgmnmxTs/1wCJOgtH3N+ARKzwEGrFyAaxTaXuLMKdyOodgw1yIxJ7furA3lTHe0Y8rOiIEA0QOwSq8N4K72+f8bpphv83PULMzMvMzPe8TMpECB6IPPnpOavs06G5uH4iyz3QIV3HXIy1K8rJ0B0QOafJd6u67J8n5y3S6wO4m1UIMHolGlvg9hBn0NqxdX+tfq3nzGgka+aRvvdQFNlJUJ0fUjC6QIkYcF15gSITqGE0wVIwoLrzAkQnUIJpwsQA8HdxUJgutk01i7ycHUOh4LMrmpuCBBTIIR9IKjfOOZZnUJ3F3GxTh3AAOPHagWDAkQjrulzyGLVqmeT2QoGGbjw9E2Ythj5MCfRJUIMIiTOIgIkTnUN6hYgBqLFWUSAxKmuQd0CxEC0OIsIkDjVNahbgBiIFmeRIEDCbAs0a4McJW1QJggQtd+viod57mkEI0AMgdjqxQmENW5xxoyTod1RRK4AMQSiikmERHELauoI0mV5R13hZ6/er+uhIsQ7arPT72HmKNey/DYwaL4gQILW7Sd/KCDqV7jEGHEy5A5uukuA6BRyV6yTuwSIXutkgZR5rcU4odyqMvrGs+S+vW2pS70L0TqP93T5okonwI129YZVkzq5guHxHH1jUlaVSRSIMmiX+GcAVwN4ysnQ/JndJa7cJ7ye5qDe1XhRXCtW4PIP76K/TJ1NHEjtpcsE7B/L0Had4+52rXdy0fSu1dmIIt2LrNNOhlaHqS9xIHaRt4GwH8BJnkV/wabvl2qAXeYDYAyA8bqTpcfDNDaOsnXtUdV/7GTovjB2EgeinM2VeNK9owhH//wVfVP30x+LNWIBBoD2y3DF4Q30e5jGRl22t8QbLODTWr2WheuObKKfwthpCZC+Et/LwEfu4Ek4aM3hQFsbJg930+nsBK9oJwwwMEAE22vcHidDz4VpaJRle4u8qc3C3cxQ0XCTqjuqVxa2BIhqQF+ZtzPjzQah1OxkbZTiJVEXATvU6/6isNUyIMp597mE8QIId0bRmKTrUJ+5QBUvFnr8/3Ze52NLgdScc3952+Z+pWB+9TTlV5wfgkkFkJTrn6h7AiRRufXGBIheo0RzCJBE5dYbEyB6jRLNIUASlVtvzAiIXWL10azmX0dotFv3shfvJfbDTVxzf0vu7USq5e9w30Gs+7SSXebphZfP6HVpluNstYJ16mcOQepjwha/7/kyAmLeHimpU0CA6BRKOF2AJCy4zpwA0SmUcLoASVhwnTkBolMo4XQBkrDgOnMCRKdQwukCJGHBdeYEiE6hhNMFSMKC68z9A/JyeaGw5sVJAAAAAElFTkSuQmCC"}}]);
//# sourceMappingURL=624.610783c7.js.map