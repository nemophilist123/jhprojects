"use strict";(self["webpackChunkjinghe"]=self["webpackChunkjinghe"]||[]).push([[635],{6635:function(t,e,a){a.r(e),a.d(e,{default:function(){return m}});var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"energyTrendAnalysis"},[e("div",{staticClass:"right border-box"},[e("div",{staticClass:"search chartSearch"},[e("div",[e("el-date-picker",{attrs:{type:t.pickerType,"value-format":t.valueFormat,placeholder:"",clearable:!1},on:{change:t.powerRankFun},model:{value:t.date1,callback:function(e){t.date1=e},expression:"date1"}})],1),e("div",[e("el-date-picker",{attrs:{type:t.pickerType,"value-format":t.valueFormat,placeholder:"",clearable:!1},on:{change:t.powerRankFun},model:{value:t.date2,callback:function(e){t.date2=e},expression:"date2"}})],1),e("div",{staticClass:"tabAll"},t._l(t.timeTab,(function(a,r){return e("div",{key:r,class:{isActive:r==t.tTIndex},on:{click:function(e){return t.changeTimeTab(r)}}},[t._v(" "+t._s(a)+" ")])})),0)]),e("div",{staticClass:"tabel"},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,height:"250"}},[e("el-table-column",{attrs:{prop:"DateStr",label:t.DateName}}),e("el-table-column",{attrs:{prop:"PVStationId",label:"电站编号"}}),e("el-table-column",{attrs:{prop:"PVStationName",label:"电站名称"}}),e("el-table-column",{attrs:{prop:"ActiveHours",label:"有效小时数"}}),e("el-table-column",{attrs:{prop:"Efficiency",label:"发电效率(统折容量)"}})],1)],1),e("div",{staticClass:"border-box chart",staticStyle:{"flex-grow":"1"}},[e("e-Chart",{attrs:{arry:t.arry}})],1)])])},i=[],s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"Pechart"},[e("div",{ref:"echart",staticClass:"echart"})])},l=[],o={props:{arry:{type:Object,default:()=>[]}},data(){return{}},watch:{arry(t){this.setEchart()}},mounted(){},methods:{setEchart(){let t=this.$refs.echart,e=this.$echarts.init(t),a={dataZoom:[{},{type:"inside"}],title:{text:""},tooltip:{trigger:"axis"},legend:{data:this.arry.data3,selected:this.arry.data4,type:"scroll",orient:"vertical",left:"1%",top:"2%",textStyle:{color:"#fff"},pageTextStyle:{color:"#ffffff"},pageIconColor:"#2C86FF",pageIconInactiveColor:"rgba(44,132,251,0.40)",pageIconSize:10},grid:{left:"15%",right:"1%",bottom:"2%",top:"5%",containLabel:!0},toolbox:{feature:{saveAsImage:{show:!1}}},xAxis:{type:"category",boundaryGap:!1,data:this.arry.data1,axisLabel:{show:!0,textStyle:{color:"#ffffff"}},axisTick:{show:!1}},yAxis:{type:"value",axisLabel:{show:!0,textStyle:{color:"#ffffff"}},splitLine:{show:!0,lineStyle:{color:["rgba(255, 255, 255, 0.5)"],type:"dashed"}}},series:this.arry.data2};e.setOption(a),window.addEventListener("resize",(function(){e.resize()}))}}},n=o,c=a(1001),h=(0,c.Z)(n,s,l,!1,null,"02bbb768",null),d=h.exports,p=a(88304);function y(t,e,a){return(0,p.W)({url:"/web/apps/gongqi.hsb.pv/pvStationTwoAction/generateRank?id="+sessionStorage.getItem("companyId")+"&dateType="+t+"&fromDate="+e+"&toDate="+a+"&type="+sessionStorage.getItem("companyType"),method:"POST"})}var u={components:{eChart:d},data(){return{date1:"",date2:"",areaOption:[],tableData:[],arry:{},timeTab:["日","月","年"],tTIndex:0,DateName:"小时",valueFormat:"yyyy-MM-dd",pickerType:"date"}},mounted(){this.date1=this.date2=this.$getDate().year+"-"+this.$getDate().month+"-"+this.$getDate().day,this.powerRankFun()},methods:{powerRankFun(){let t=this.date1,e=this.date2;y(this.timeTab[this.tTIndex],t,e).then((t=>{const{content:e,errcode:a,errmsg:r}=t;0==a&&(this.tableData=e.line,this.arry=e)})).catch((t=>{}))},changeTimeTab(t){0==t?(this.valueFormat="yyyy-MM-dd",this.pickerType="date",this.date1=this.date2=this.$getDate().year+"-"+this.$getDate().month+"-"+this.$getDate().day):1==t?(this.valueFormat="yyyy-MM",this.pickerType="month",this.date1=this.date2=this.$getDate().year+"-"+this.$getDate().month):(this.valueFormat="yyyy",this.pickerType="year",this.date1=this.date2=JSON.stringify(this.$getDate().year)),this.tTIndex=t,this.powerRankFun(),this.DateName=0==t?"小时":"日期"}}},f=u,b=(0,c.Z)(f,r,i,!1,null,"6886167c",null),m=b.exports}}]);
//# sourceMappingURL=635.721e49bf.js.map