"use strict";(self["webpackChunkjinghe"]=self["webpackChunkjinghe"]||[]).push([[743],{12396:function(t,e,i){i.r(e),i.d(e,{default:function(){return b}});var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"home_view"},[e("div",{staticClass:"particle"}),e("div",{staticClass:"left"},[e("div",{staticClass:"box_border"},[e("load-box",{attrs:{loadisShow:t.areaEnergyLoad}},[e("div",{staticClass:"full"},[e("p",{staticClass:"box_title"},[t._v("全厂用能总览")]),e("div",{staticClass:"box-content",staticStyle:{display:"flex"}},[e("div",{staticClass:"qcynTitleContent"},[e("div",{staticStyle:{height:"calc(1.38rem + 2px)",padding:"0"}}),e("div",[t._v("单位")]),e("div",[t._v("当日")]),e("div",[t._v("昨日")]),e("div",[t._v("环比")])]),e("div",{staticClass:"qcynContent"},[e("div",{staticClass:"line1"},t._l(8,(function(s,a){return e("div",{key:a,class:{isActive:t.activeIndex==a},on:{click:function(e){return t.changeEnergy(a)}}},[e("img",{attrs:{src:i(71368)("./"+(a+1)+".png"),alt:""}}),e("p",[t._v(t._s(t.ynIcon[a]))])])})),0),e("div",{staticClass:"line2"},t._l(t.ynUnit,(function(i,s){return e("div",{key:s},[t._v(" "+t._s(i)+" ")])})),0),t._l(t.ynArry,(function(i,s){return e("div",{key:s,staticClass:"ynArryLine"},t._l(i[Object.keys(i)[0]],(function(i,s){return e("div",{key:s},[e("div",{staticStyle:{display:"flex","align-items":"center"},domProps:{innerHTML:t._s(t.getYnData(i))}})])})),0)}))],2)])])])],1),e("div",{staticClass:"box_border"},[e("load-box",{attrs:{loadisShow:t.areaUseQtyLoad}},[e("div",{staticClass:"full"},[e("p",{staticClass:"box_title"},[t._v("全厂分时用量")]),e("div",{ref:"fsyl",staticClass:"box-content"})])])],1)]),e("div",{staticClass:"center"},[e("div",{staticClass:"center_top"},[t.topId?e("div",{staticStyle:{width:"100%"}},[e("iframe",{staticStyle:{width:"100%",height:"100%"},attrs:{id:"ifram",src:t.topId,frameborder:"0"}})]):e("p",{staticStyle:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)","letter-spacing":"0.03rem",color:"#4abbff",display:"flex","flex-direction":"column","align-items":"center"}},[e("img",{staticStyle:{width:"6.5rem"},attrs:{src:i(26263),alt:""}})])]),e("div",{staticClass:"center_bottom box_border"},[e("load-box",{attrs:{loadisShow:t.chLoad}},[e("div",{staticClass:"full"},[e("p",{staticClass:"box_title"},[t._v("能耗结构")]),e("energyConsumptionChart")],1)])],1)]),e("div",{staticClass:"right"},[e("div",{staticClass:"right_top box_border",style:{height:"A2209070001"==t.companyId||"A2110080001"==t.companyId||"A2210240008"==t.companyId?"calc(50% - 0.09rem) !important":"40.45%"}},[e("div",{attrs:{loadisShow:t.genetateLoad}},[e("div",{staticClass:"full"},[e("p",{staticClass:"box_title"},[t._v("光伏发电总览")]),e("div",{staticClass:"box-content fdzl"},[t._m(0),e("generatingOverview",{directives:[{name:"show",rawName:"v-show",value:!0,expression:"true"}]}),e("div",{directives:[{name:"show",rawName:"v-show",value:!0,expression:"true"}],staticStyle:{display:"flex","flex-direction":"column","flex-grow":"1"}},[e("generatingOverview2"),t._m(1)],1)],1)])])]),e("div",{staticClass:"right_center box_border",style:{height:"A2209070001"==t.companyId||"A2110080001"==t.companyId||"A2210240008"==t.companyId?"calc(50% - 0.09rem) !important":"23.55%"}},[e("load-box",{attrs:{loadisShow:t.tpLoad}},[e("div",{staticClass:"full"},[e("p",{staticClass:"box_title"},[t._v("碳排建设")]),e("div",{staticClass:"box-content TPJS"},[e("div",[e("div",[e("img",{attrs:{src:i(13372),alt:""}})]),e("div",{staticClass:"TPJSContent"},[e("p",[t._v("减排二氧化碳")]),e("p",{staticStyle:{"font-size":"0.16rem",display:"flex","align-items":"center"}},[e("span",{staticStyle:{color:"#00ff2a","font-size":"0.26rem","margin-right":"0.13rem"}},[t._v(" 210 ")]),t._v(" 吨 ")])])]),e("div",[e("div",[e("img",{attrs:{src:i(16195),alt:""}})]),e("div",{staticClass:"TPJSContent"},[e("p",[t._v("减排二氧化硫")]),e("p",{staticStyle:{"font-size":"0.16rem",display:"flex","align-items":"center"}},[e("span",{staticStyle:{color:"#00eeff","font-size":"0.26rem","margin-right":"0.13rem"}},[t._v(" 180 ")]),t._v(" 吨 ")])])]),e("div",[e("div",[e("img",{attrs:{src:i(3285),alt:""}})]),e("div",{staticClass:"TPJSContent"},[e("p",[t._v("减少森林砍伐")]),e("p",{staticStyle:{"font-size":"0.16rem",display:"flex","align-items":"center"}},[e("span",{staticStyle:{color:"#ffc300","font-size":"0.26rem","margin-right":"0.13rem"}},[t._v(" 175 ")]),t._v(" 亩 ")])])]),e("div",[e("div",[e("img",{attrs:{src:i(55587),alt:""}})]),e("div",{staticClass:"TPJSContent"},[e("p",[t._v("节约煤炭")]),e("p",{staticStyle:{"font-size":"0.16rem",display:"flex","align-items":"center"}},[e("span",{staticStyle:{color:"#ff4800","font-size":"0.26rem","margin-right":"0.13rem"}},[t._v(" 325 ")]),t._v(" 吨 ")])])])])])])],1),e("div",{directives:[{name:"show",rawName:"v-show",value:"A2209070001"!=t.companyId&&"A2110080001"!=t.companyId&&"A2210240008"!=t.companyId,expression:" companyId != 'A2209070001' &&\n          companyId != 'A2110080001' &&\n          companyId != 'A2210240008'"}],staticClass:"right_bottom box_border"},[e("load-box",{attrs:{loadisShow:t.eleLoad}},[e("div",{staticClass:"full"},[e("p",{staticClass:"box_title"},[t._v("配电房运行总览")]),e("div",{staticClass:"box-content pdf"},[e("p",{attrs:{id:"selectEle"}},[e("el-select",{staticStyle:{"margin-right":"10px"},attrs:{placeholder:""},on:{change:t.changeEle},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.options,(function(t){return e("el-option",{key:t.elecStationId,attrs:{label:t.elecStationName,value:t.elecStationId}})})),1),e("el-select",{attrs:{placeholder:""},on:{change:t.eqmChangeEle},model:{value:t.eqmValue,callback:function(e){t.eqmValue=e},expression:"eqmValue"}},t._l(t.eqmOptions,(function(t){return e("el-option",{key:t.elecEqmId,attrs:{label:t.elecEqmName,value:t.elecEqmId}})})),1)],1),t._l(t.elecpoinNameArry,(function(i,s){return e("div",{key:s},[e("p",[t._v(t._s(i))]),e("p",[t._v(t._s(t.getValueByName(i)))])])}))],2)])])],1)])])},a=[function(){var t=this,e=t._self._c;return e("div",[e("img",{staticStyle:{width:"0.45rem"},attrs:{src:i(8892),alt:""}}),e("p",[t._v("光伏总容量")]),e("div",[t._v("8056.08kWp")]),e("p",[t._v("当日发电量")]),e("div",[t._v("4244kWh")]),e("p",[t._v("累计发电量")]),e("div",[t._v("3812.08mWh")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"gffd"},[e("div",[e("p",[t._v("今日自发自用")]),e("div",[t._v("3419kwh")])]),e("div",[e("p",[t._v("今日余电上网")]),e("div",[t._v("825kwh")])])])}],r=(i(57658),i(40155)),n=function(){var t=this,e=t._self._c;return e("div",{staticStyle:{position:"relative","flex-grow":"1",overflow:"hidden"},on:{mouseenter:t.mouseenterFun,mouseleave:t.mouseleaveFun}},[e("transition",{attrs:{name:"slide-fade"}},[e("img",{directives:[{name:"show",rawName:"v-show",value:t.showArrowLeft,expression:"showArrowLeft"}],staticClass:"leftArrow",attrs:{src:i(72032),alt:""},on:{click:function(e){return t.arrowFun("left")}}})]),e("transition",{attrs:{name:"slide-fade"}},[e("img",{directives:[{name:"show",rawName:"v-show",value:t.showArrowRight,expression:"showArrowRight"}],staticClass:"rightArrow",attrs:{src:i(72032),alt:""},on:{click:function(e){return t.arrowFun("right")}}})]),e("div",{class:["fdzlContet",{fdzlCenter:t.genetateArry.length<2}],style:{position:"relative",left:t.boxMarginLeft+"%"},attrs:{id:"box"}},t._l(t.genetateArry,(function(i,s){return e("div",{key:s},[e("div",{staticClass:"fdContent"},[e("div",{staticClass:"fdY"},[e("div",{class:{isCurrentClass:s==t.current}},[e("span",{staticStyle:{display:"inline-block",width:"0.5rem"}},[t._v(" 光伏旺旺 ")])])]),t._m(0,!0)])])})),0)],1)},o=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"fdYC"},[e("div",[e("p",[t._v("今日电量")]),e("p",[e("span",[t._v("1230")]),t._v("kWh ")])]),e("div",[e("p",[t._v("昨日电量")]),e("p",[e("span",[t._v("2230")]),t._v("kWh ")])])])}],l=i(40165),c={data(){return{genetateShift:{},genetateArry:[],showArrowLeft:!1,showArrowRight:!1,fdzlArry:[],environmentalmsg:{},boxMarginLeft:"0",current:1}},mounted(){this.genetateFun()},methods:{mouseenterFun(){this.genetateArry.length<2||(0!=this.current?this.current!=this.genetateArry.length-1?(this.showArrowLeft=!0,this.showArrowRight=!0):this.showArrowRight=!0:this.showArrowLeft=!0)},mouseleaveFun(){this.genetateArry.length<2||(this.showArrowLeft=!1,this.showArrowRight=!1)},genetateFun(){let t=0;0==t&&(this.genetateShift=content,this.$bus.$emit("sendGenetateShift",this.genetateShift),1==this.genetateArry.length?this.current=0:this.current=1,this.$bus.$emit("generaMsg",this.genetateArry[this.current].companyId)),this.$parent.$parent.changeGenetateLoad(!1)},arrowFun(t){"left"==t?(this.boxMarginLeft=Number(this.boxMarginLeft-33.33),setTimeout((()=>{this.current++,this.showOrHide()}),300)):(this.boxMarginLeft=Number(this.boxMarginLeft+33.33),setTimeout((()=>{this.current--,this.showOrHide()}),300))},showOrHide(){0==this.current?(this.showArrowLeft=!0,this.showArrowRight=!1):this.current==this.genetateArry.length-1?(this.showArrowRight=!0,this.showArrowLeft=!1):(this.showArrowLeft=!0,this.showArrowRight=!0)},toFixedTwo(t){if(0==t)return 0;if(t){let e=t;return this.$isInteger(t)||(e=e.toFixed(2)),e}}}},d=c,h=i(1001),m=(0,h.Z)(d,n,o,!1,null,"1090d234",null),u=m.exports,p=i(58900),v=(i(91186),i(21426)),g=i(87633),f=(i(24945),i(81158)),y={components:{energyConsumptionChart:r.Z,generatingOverview:u,generatingOverview2:p.Z,loadBox:g.Z},data(){return{options:[1,2,3,4],value:"",eqmOptions:[1,2,3,4],eqmValue:"",activeIndex:0,elecpoinArry:[],elecpoinNameArry:["总电能","A相电压","B相电压","C相电压","A相电流","B相电流","C相电流","A相功率","B相功率","C相功率"],topId:"",ynIcon:["电","蒸汽","天然气","自来水","冷凝水","压缩空气","氮气","中水"],ynUnit:["kWh","吨","立方米","立方米","立方米","立方米","立方米","立方米"],ynArry:[{"当日":["-","-","-","-","-","-","-","-"]},{"昨日":["-","-","-","-","-","-","-","-"]},{"环比":["-","-","-","-","-","-","-","-"]}],areaUseQtyArry:[],genetateShift:{},environmentalmsg:{},areaEnergyLoad:!1,areaUseQtyLoad:!1,chLoad:!1,genetateLoad:!1,tpLoad:!1,eleLoad:!1,topIdNum:"",companyId:sessionStorage.getItem("companyId"),s1:[.2,.3,.8,.6,.7,.9,.7,.55,.1,.8,.22,.32,.66,.58,.14,.96,.1,.3,.6,.44],s2:[.6,.1,.7,.4,.5,.15,.33,.6,.8,.12,.3,.1,.36,.8,.4,.1,.66,.55,.4,.8],pieData:[],chart:null}},created(){this.$bus.$on("sendGenetateShift",(t=>{this.genetateShift=t}))},mounted(){(0,f.Z)(".particle",{color:"rgb(53,115,229,0.5)",radius:2,rate:2,count:200,line:!1,bounce:!0}),this.areaEnergyFun(),this.changeEnergy(0),this.getTopIdFun(),this.environmentalProtectionContributionFun(),this.elecstationFun(),window.onresize=()=>{const t=document.documentElement.clientWidth||document.body.clientWidth,e=document.getElementsByTagName("html")[0];e.style.fontSize=t/19.2+"px",""!=this.topIdNum&&(this.topId="",setTimeout((()=>{this.topId="http://"+this.$ipAddress+"/html/apps/jingheforWebpage/index.html?topId="+this.topIdNum}),100))}},methods:{getYnData(t){if(t.toString().includes("%")){let e=t.substring(0,t.toString().indexOf("%"));return this.$isInteger(e)||(e=Number(e).toFixed(2)),`<span style="display: flex;align-items: center;"><img class="downImg" style="width:0.2rem" src=${v}>${e}%</span>`}if(this.$isNumber(t)){let e=t;return this.$isInteger(t)||(e=t.toFixed(2)),e}return t},areaEnergyFun(){this.ynArry=[{"当日":[153,132,100,74,68,63,25,44]},{"昨日":[125,63,126,39,85,36,66,55]},{"环比":[-.18,-.52,.26,-.47,.25,.28,.11,-.31]}]},setFsylEchart(t,e,i,s){let a=this.$refs.fsyl,r=this.$echarts.init(a);r.clear();let n={grid:{left:"2%",right:"2%",bottom:"3%",containLabel:!0},legend:{top:"2%",right:"2%",textStyle:{color:"#fff"}},tooltip:{show:!0,trigger:"item"},xAxis:{type:"category",data:t,axisLabel:{show:!0,textStyle:{color:"#ffffff"}},axisTick:{show:!1}},yAxis:{name:s,nameLocation:"end",nameTextStyle:{color:"#fff",padding:[0,10,0,0]},nameGap:15,type:"value",axisLabel:{show:!0,textStyle:{color:"#ffffff"}},splitLine:{show:!0,lineStyle:{color:["rgba(255, 255, 255, 0.5)"],type:"dashed"}}},series:[{name:"今日",type:"bar",emphasis:{focus:"series"},barWidth:5,itemStyle:{normal:{color:"#00EEFF"}},data:this.s1},{name:"昨日",type:"bar",emphasis:{focus:"series"},barWidth:5,itemStyle:{normal:{color:"#FFB300"}},data:this.s2}]};r.setOption(n),window.addEventListener("resize",(function(){r.resize()}))},getTopIdFun(){(0,l.sw)().then((t=>{const{errcode:e,errmsg:i,topId:s}=t;0==e&&""!=s&&(this.topId="http://"+this.$ipAddress+"/html/apps/jingheforWebpage/index.html?topId="+s,this.topIdNum=s)})).catch((t=>{}))},changeEnergy(t){this.activeIndex=t;let e=[["elec"],["steam"],["gas"],["coldWater"],["hotWater"],["compressedAir"],["n2"],["reclaimedWater"]],i=["kWh","吨","立方米","立方米","立方米","立方米","立方米","立方米"],s=e[t],a=[],r=[],n=[];this.areaUseQtyArry.forEach((t=>{1==s.length?(r.push(t[s[0]]),n.push(t[s[0]+"_3"])):(r.push(Number(t[s[0]])+Number(t[s[1]])),n.push(Number(t[s[0]+"_3"])+Number(t[s[1]+"_3"]))),a.push(t.dateStr)})),this.setFsylEchart(a,r,n,i[t])},environmentalProtectionContributionFun(){this.tpLoad=!0,(0,l.up)().then((t=>{const{errcode:e,errmsg:i,content:s}=t;0==e&&(this.environmentalmsg=s),this.tpLoad=!1})).catch((t=>{this.tpLoad=!1}))},changeEle(){this.ElecEqmIdFun()},eqmChangeEle(){this.elecpoinFun()},elecstationFun(){(0,l.Ko)().then((t=>{const{errcode:e,errmsg:i,elecstation:s}=t;0==e&&(this.options=s,this.options.length>0&&(this.value=this.options[0].elecStationId,this.ElecEqmIdFun()))})).catch((t=>{}))},elecpoinFun(){this.eleLoad=!0,this.elecpoinArry=[1,2,3,4,5,6,7,8,9]},getValueByName(t){let e="";return this.elecpoinArry.length>0&&this.elecpoinArry.forEach((i=>{i.elecPointUnitId==t&&(e=this.toFixedTwo(i.dATA_VALUE))})),e},changeCHLoad(t){this.chLoad=t},changeGenetateLoad(t){this.genetateLoad=t},toFixedTwo(t){if(0==t)return 0;if(t){let e=Number(t);return this.$isInteger(t)||(e=e.toFixed(2)),e}}}},w=y,_=(0,h.Z)(w,s,a,!1,null,"5040218f",null),b=_.exports},26263:function(t,e,i){t.exports=i.p+"img/8.bcf6930d.png"}}]);
//# sourceMappingURL=743.b78109b4.js.map