"use strict";(self["webpackChunkjinghe"]=self["webpackChunkjinghe"]||[]).push([[50],{14050:function(e,t,a){a.r(t),a.d(t,{default:function(){return D}});var n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"parameterManage"},[t("div",{staticClass:"table"},[t("div",{staticStyle:{"flex-grow":"1",position:"relative"}},[t("pvWarn")],1)])])},r=[],l=function(){var e=this,t=e._self._c;return t("div",{staticClass:"energyTrendAnalysis"},[t("div",{staticClass:"left border-box tree"},[t("el-tree",{attrs:{"default-expand-all":!0,"expand-on-click-node":!1,data:e.data,props:e.defaultProps},on:{"node-click":e.nodeClick}})],1),t("div",{staticClass:"right border-box"},[t("div",{staticClass:"search chartSearch"},[t("div",[t("el-date-picker",{attrs:{type:"date",placeholder:"","value-format":"yyyy-MM-dd",clearable:!1},on:{change:e.pvAlarmQueryFun},model:{value:e.date1,callback:function(t){e.date1=t},expression:"date1"}})],1),t("div",{staticStyle:{color:"#00b4fe"}},[e._v("至")]),t("div",[t("el-date-picker",{attrs:{type:"date",placeholder:"","value-format":"yyyy-MM-dd",clearable:!1},on:{change:e.pvAlarmQueryFun},model:{value:e.date2,callback:function(t){e.date2=t},expression:"date2"}})],1)]),t("div",{staticClass:"tabel"},[t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,height:"100%"}},[t("el-table-column",{attrs:{prop:"pVStationId",label:"电站名称",width:"150"}}),t("el-table-column",{attrs:{prop:"alarmId",label:"告警编号",width:"130"}}),t("el-table-column",{attrs:{prop:"alarmType",label:"告警类型",width:"120"}}),t("el-table-column",{attrs:{prop:"alarmNum",label:"告警设备总数",width:"120"}}),t("el-table-column",{attrs:{prop:"alarmDate",label:"告警日期"}}),t("el-table-column",{attrs:{prop:"alarmTime",label:"告警时间"}}),t("el-table-column",{attrs:{prop:"timeLong",label:"处理时长"}}),t("el-table-column",{attrs:{prop:"alarmStatus",label:"告警状态"}}),t("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{type:"text",size:"small"},on:{click:function(t){return e.handleClick(a.row)}}},[e._v("详情")])]}}])})],1)],1),t("el-pagination",{staticStyle:{"margin-top":"0.1rem"},attrs:{background:"",layout:"prev, pager, next",total:e.total},on:{"current-change":e.handleCurrentChange}}),t("pvWarnDialog",{ref:"dialog"})],1)])},o=[],i=a(8745),s=a(72021),u=function(){var e=this,t=e._self._c;return t("div",[t("el-dialog",{attrs:{title:"",visible:e.dialogFormVisible,modal:!1,width:"70%",top:"17vh"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,height:"7rem"}},[t("el-table-column",{attrs:{prop:"pVEqmId",label:"设备编号"}}),t("el-table-column",{attrs:{prop:"alarmDate",label:"告警日期"}}),t("el-table-column",{attrs:{prop:"alarmTime",label:"告警时间"}}),t("el-table-column",{attrs:{prop:"timeLong",label:"处理时长"}}),t("el-table-column",{attrs:{prop:"alarmStatus",label:"告警状态"}})],1)],1)],1)},c=[],d={data(){return{dialogFormVisible:!1,tableData:[]}},mounted(){},methods:{showDialogFun(e){this.dialogFormVisible=!0,this.tableData=e}}},p=d,h=a(1001),g=(0,h.Z)(p,u,c,!1,null,"32644827",null),m=g.exports,b=(a(8499),{components:{pvWarnDialog:m},data(){return{data:[],defaultProps:{children:"children",label:"label"},date1:"",date2:"",tableData:[],arry:{},total:0,currentPage:0}},mounted(){this.date2=this.date1=this.$getDate().year+"-"+this.$getDate().month+"-"+this.$getDate().day,this.placesFun()},methods:{placesFun(){(0,i.x6)().then((e=>{let t=!1;e.content.forEach((e=>{let a=e.id.substring(0,1);"A"==a||"C"==a?(e["isClick"]=!0,t||(this.areaId=e.id,t=!0)):e["isClick"]=!1})),this.data=this.$arrToTree(e.content),this.pvAlarmQueryFun()})).catch((e=>{}))},nodeClick(e){e.isClick&&(this.areaId=e.id,this.pvAlarmQueryFun())},pvAlarmQueryFun(){(0,s.QA)(this.date1,this.areaId,this.currentPage,this.date2).then((e=>{const{content:t,errcode:a,errmsg:n}=e;0==a&&(this.tableData=t)})).catch((e=>{}))},handleCurrentChange(e){this.currentPage=e,this.pvAlarmQueryFun()},handleClick(e){this.$refs.dialog.showDialogFun(e.alarmLine)}}}),y=b,f=(0,h.Z)(y,l,o,!1,null,"4b6552f2",null),v=f.exports,w={components:{pvWarn:v},data(){return{}},mounted(){},methods:{}},A=w,T=(0,h.Z)(A,n,r,!1,null,"d8147d0a",null),D=T.exports},8745:function(e,t,a){a.d(t,{Jw:function(){return s},KQ:function(){return l},WI:function(){return u},bv:function(){return o},d1:function(){return i},x6:function(){return r}});var n=a(88304);function r(){return(0,n.W)({url:"/web/apps/gongqi.hsb.energy/energyManageAction/places",method:"POST"})}function l(){return(0,n.W)({url:"/web/apps/gongqi.hsb.elec/elecDrawAction/places",method:"POST"})}function o(){return(0,n.W)({method:"POST"})}function i(){return(0,n.W)({url:"/web/apps/gongqi.hsb.pv/pvStationTwoAction/places",method:"POST"})}function s(e,t,a,r,l){return(0,n.W)({url:"/web/apps/gongqi.hsb.energy/energyManageAction/energyTrend?dateType="+e+"&energyType="+t+"&fromDate="+a+"&id="+l+"&toDate="+r,method:"POST"})}function u(e,t,a,r,l){return(0,n.W)({url:"/web/apps/gongqi.hsb.energy/energyManageAction/energyBalance?dateType="+e+"&energyType="+t+"&fromDate="+a+"&id="+l+"&toDate="+r,method:"POST"})}},72021:function(e,t,a){a.d(t,{Js:function(){return u},KX:function(){return c},OH:function(){return r},OM:function(){return l},QA:function(){return i},a2:function(){return o},oy:function(){return s}});var n=a(88304);function r(e,t,a,r){return(0,n.W)({url:"/web/apps/gongqi.hsb.elec/elecTwoAction/workAlarm?alarmId="+e+"&checkContent="+t+"&solverDate="+a+"&solverRemark="+r,method:"POST"})}function l(e,t,a,r){return(0,n.W)({url:"/web/apps/gongqi.hsb.energy/energyManageAction/energyAlarmQuery?fromDate="+e+"&id="+t+"&pageIndex="+a+"&toDate="+r,method:"POST"})}function o(e){return(0,n.W)({url:"/web/apps/gongqi.hsb.energy/energyManageAction/energyAlarmLine?alarmId="+e,method:"POST"})}function i(e,t,a,r){return(0,n.W)({url:"/web/apps/gongqi.hsb.pv/pvAlarmAction/pvAlarmQuery?fromDate="+e+"&id="+t+"&pageIndex="+a+"&toDate="+r,method:"POST"})}function s(){return(0,n.W)({url:"/web/apps/gongqi.hsb.energy/energyTwoAction/companyList?areaId="+sessionStorage.getItem("companyId"),method:"POST"})}function u(e){return(0,n.W)({url:"/web/apps/gongqi.hsb.energy/energyTwoAction/equipmentList?companyId="+e,method:"POST"})}function c(e,t,a){return(0,n.W)({url:"/web/apps/gongqi.hsb.energy/energyManageAction/energyAlarmAddUpdateDelete",params:{alarmId:e,dateStr:t,type:a},method:"POST"})}}}]);
//# sourceMappingURL=50.9734e5bc.js.map