"use strict";(self["webpackChunkjinghe"]=self["webpackChunkjinghe"]||[]).push([[113],{74113:function(t,a,e){e.r(a),e.d(a,{default:function(){return x}});var n=function(){var t=this,a=t._self._c;return a("div",{staticClass:"generationAnalysis",staticStyle:{display:"flex","flex-direction":"column"}},[a("div",{staticClass:"right"},[a("div",{staticClass:"search chartSearch"},[a("div",[a("el-date-picker",{attrs:{type:"date",placeholder:"","value-format":"yyyy-MM-dd",clearable:!1},on:{change:t.generationAnalysisFun},model:{value:t.date1,callback:function(a){t.date1=a},expression:"date1"}})],1),a("div",{staticStyle:{color:"#00b4fe"}},[t._v("至")]),a("div",[a("el-date-picker",{attrs:{type:"date",placeholder:"","value-format":"yyyy-MM-dd",clearable:!1},on:{change:t.generationAnalysisFun},model:{value:t.date2,callback:function(a){t.date2=a},expression:"date2"}})],1),a("div",[a("span",[t._v("园区")]),a("el-select",{attrs:{placeholder:""},on:{change:t.areaChange},model:{value:t.areaVal,callback:function(a){t.areaVal=a},expression:"areaVal"}},t._l(t.areaOption,(function(t){return a("el-option",{key:t.areaId,attrs:{label:t.areaName,value:t.areaId}})})),1)],1),a("div",[a("span",[t._v("企业")]),a("el-select",{attrs:{placeholder:""},on:{change:t.companyChange},model:{value:t.companyVal,callback:function(a){t.companyVal=a},expression:"companyVal"}},t._l(t.companyOption,(function(t){return a("el-option",{key:t.companyId,attrs:{label:t.companyName,value:t.companyId}})})),1)],1),a("div",[a("span",[t._v("电站")]),a("el-select",{attrs:{placeholder:""},on:{change:t.generationAnalysisFun},model:{value:t.dzVal,callback:function(a){t.dzVal=a},expression:"dzVal"}},t._l(t.dzOption,(function(t){return a("el-option",{key:t.pVStationId,attrs:{label:t.pVStationName,value:t.pVStationId}})})),1)],1),a("div",{staticClass:"tabAll"},t._l(t.timeTab,(function(e,n){return a("div",{key:n,class:{isActive:n==t.tTIndex},on:{click:function(a){return t.changeTimeTab(n)}}},[t._v(" "+t._s(e)+" ")])})),0)]),a("div",{staticClass:"content"},[a("div",{staticClass:"content-left border-box"},[a("p",{staticClass:"subtitle"},[t._v("理论实际发电量对比")]),a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.sysTmps,height:"250"}},[a("el-table-column",{attrs:{prop:"Date",label:"日期"}}),a("el-table-column",{attrs:{prop:"TheoryGenerateElec",label:"理论发电量"}}),a("el-table-column",{attrs:{prop:"ActualGenerateElec",label:"实际发电量"}}),a("el-table-column",{attrs:{prop:"Scale",label:"PR值"}})],1)],1),a("div",{staticClass:"border-box",staticStyle:{"flex-grow":"1"}},[a("generationAnalysisChart",{attrs:{arry:t.arry1}})],1)]),a("div",{staticClass:"content-right border-box"},[a("p",{staticClass:"subtitle"},[t._v("逆变器发电量对比")]),a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.sysTmps1,height:"250"}},[a("el-table-column",{attrs:{prop:"Date1",label:"日期"}}),a("el-table-column",{attrs:{prop:"PVEqmId1",label:"逆变器编号"}}),a("el-table-column",{attrs:{prop:"PVEqmName1",label:"逆变器名称"}}),a("el-table-column",{attrs:{prop:"TheoryGenerateElec1",label:"理论发电量"}}),a("el-table-column",{attrs:{prop:"ActualGenerateElec1",label:"实际发电量"}}),a("el-table-column",{attrs:{prop:"Scale1",label:"PR值"}})],1)],1),a("div",{staticClass:"border-box",staticStyle:{"flex-grow":"1"}},[a("generationAnalysisChart",{attrs:{arry:t.arry2}})],1)])])])])},s=[],l=function(){var t=this,a=t._self._c;return a("div",{staticClass:"Pechart"},[a("div",{ref:"echart",staticClass:"echart"})])},r=[],i={props:{arry:{type:Object,default:()=>[]}},data(){return{}},watch:{arry(t){this.setEchart()}},mounted(){},methods:{setEchart(){let t=this.$refs.echart,a=this.$echarts.init(t);a.clear();let e={dataZoom:[{},{type:"inside"}],title:{text:""},tooltip:{trigger:"axis"},legend:{data:this.arry.data3,selected:this.arry.data4,type:"scroll",orient:"horizontal",left:"1%",top:"5%",textStyle:{color:"#fff"},pageTextStyle:{color:"#ffffff"},pageIconColor:"#2C86FF",pageIconInactiveColor:"rgba(44,132,251,0.40)",pageIconSize:10},grid:{left:"1%",right:"1%",bottom:"2%",top:"15%",containLabel:!0},toolbox:{feature:{saveAsImage:{show:!1}}},xAxis:{type:"category",boundaryGap:!1,data:this.arry.data1,axisLabel:{show:!0,textStyle:{color:"#ffffff"}},axisTick:{show:!1}},yAxis:{type:"value",axisLabel:{show:!0,textStyle:{color:"#ffffff"}},splitLine:{show:!0,lineStyle:{color:["rgba(255, 255, 255, 0.5)"],type:"dashed"}}},series:this.arry.data2};a.setOption(e),window.addEventListener("resize",(function(){a.resize()}))}}},o=i,c=e(1001),d=(0,c.Z)(o,l,r,!1,null,"1e80fa31",null),p=d.exports,h=e(88304);function y(){return(0,h.W)({url:"/web/apps/gongqi.hsb.energy/energyManageAction/areaList",method:"POST"})}function u(t){return(0,h.W)({url:"/web/apps/gongqi.hsb.pv/pvDataAnalyseAction/companyDZList?companyId="+t,method:"POST"})}function m(t,a,e,n,s,l){return(0,h.W)({url:"/web/apps/gongqi.hsb.pv/pvStationTwoAction/generationAnalysis?areaId="+t+"&companyId="+a+"&dateType="+e+"&fromDate="+n+"&pvStationId="+s+"&toDate="+l,method:"POST"})}function b(t){return(0,h.W)({url:"/web/apps/gongqi.hsb.pv/pvDataAnalyseAction/areaQYList?areaId="+t,method:"POST"})}var g={components:{generationAnalysisChart:p},data(){return{date1:"",date2:"",areaOption:[],areaVal:"",companyOption:[],companyVal:"",dzOption:[],dzVal:"",sysTmps:[],sysTmps1:[],timeTab:["日","月","年"],tTIndex:0,arry1:{},arry2:{}}},mounted(){this.date2=this.date1=this.$getDate().year+"-"+this.$getDate().month+"-"+this.$getDate().day,this.areaListFun()},methods:{areaListFun(){y().then((t=>{const{content:a,errcode:e,errmsg:n}=t;0==e&&(this.areaOption=a.filter((t=>t.isPV)),this.areaVal=this.areaOption[0].areaId,this.companyListFun(),this.generationAnalysisFun())})).catch((t=>{}))},companyListFun(){b(this.areaVal).then((t=>{const{content:a,errcode:e,errmsg:n}=t;0==e&&(this.companyOption=a)})).catch((t=>{}))},companyDZListFun(){u(this.companyVal).then((t=>{const{content:a,errcode:e,errmsg:n}=t;0==e&&(this.dzOption=a)})).catch((t=>{}))},changeTimeTab(t){this.tTIndex=t,this.generationAnalysisFun()},generationAnalysisFun(){m(this.areaVal,this.companyVal,this.timeTab[this.tTIndex],this.date1,this.dzVal,this.date2).then((t=>{const{content:a,errcode:e,errmsg:n}=t;0==e&&(this.sysTmps=a.sysTmps,this.sysTmps1=a.sysTmps1,this.arry1={data1:a.data1_1,data2:a.data1_2,data3:a.data1_3,data4:""},this.arry2={data1:a.data2_1,data2:a.data2_2,data3:a.data2_3,data4:a.data2_4})})).catch((t=>{}))},areaChange(){this.companyListFun(),this.generationAnalysisFun()},companyChange(){this.dzVal="",this.companyDZListFun(),this.generationAnalysisFun()}}},f=g,v=(0,c.Z)(f,n,s,!1,null,"365630b0",null),x=v.exports}}]);
//# sourceMappingURL=113.f654b9ca.js.map